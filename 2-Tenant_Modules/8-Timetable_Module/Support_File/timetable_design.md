# Screen Design Specification: Timetable Module
## Document Version: 1.0
**Last Updated:** December 14, 2025

---

## 1. OVERVIEW

### 1.1 Purpose
This document provides detailed UI/UX specifications for the **Timetable Module**, enabling administrators, teachers, and principals to create, view, edit, and manage school timetables with advanced constraint-based scheduling, manual drag-drop editing, and automated generation capabilities.

### 1.2 User Roles & Permissions
| Role         | Create | View | Update | Delete | Print | Export | Import | Generate | Lock | Substitute |
|--------------|--------|------|--------|--------|-------|--------|--------|----------|------|------------|
| Super Admin  |   âœ“    |   âœ“  |   âœ“    |   âœ“    |   âœ“   |   âœ“    |   âœ“    |    âœ“     |  âœ“   |     âœ“      |
| PG Support   |   âœ“    |   âœ“  |   âœ“    |   âœ“    |   âœ“   |   âœ“    |   âœ“    |    âœ“     |  âœ“   |     âœ“      |
| School Admin |   âœ“    |   âœ“  |   âœ“    |   âœ“    |   âœ“   |   âœ“    |   âœ—    |    âœ“     |  âœ“   |     âœ“      |
| Principal    |   âœ“    |   âœ“  |   âœ—    |   âœ—    |   âœ“   |   âœ“    |   âœ—    |    âœ—     |  âœ—   |     âœ“      |
| Teacher      |   âœ—    |   âœ“  |   âœ—    |   âœ—    |   âœ“   |   âœ“    |   âœ—    |    âœ—     |  âœ—   |     âœ—      |
| Student      |   âœ—    |   âœ“  |   âœ—    |   âœ—    |   âœ“   |   âœ—    |   âœ—    |    âœ—     |  âœ—   |     âœ—      |
| Parents      |   âœ—    |   âœ“  |   âœ—    |   âœ—    |   âœ“   |   âœ—    |   âœ—    |    âœ—     |  âœ—   |     âœ—      |

### 1.3 Data Context

**Core Tables:**
- `tim_timetable_mode` - Defines Regular, Exam, Special Event modes
- `tim_period_set` - Defines period configurations (8-period normal, 3-period exam)
- `tim_class_mode_rule` - Links classes to modes with specific rules
- `tt_timetable_cell` - Individual period assignments
- `tim_timetable_cell_teacher` - Teacher assignments to periods
- `tim_constraint` - Flexible constraint engine (hard/soft rules)
- `tim_generation_run` - Audit trail of generation attempts
- `tim_substitution_log` - Teacher substitution tracking

**Key Relationships:**
- Class Groups â†’ Timetable Cells (many-to-many via generation runs)
- Teachers â†’ Timetable Cells (many-to-many via assignment roles)
- Constraints â†’ Teachers/Class Groups/Rooms (flexible targeting)
- Generation Runs â†’ Timetable Cells (one-to-many)

---

## 2. SCREEN LAYOUTS

### 2.1 Timetable Dashboard Screen
**Route:** `/timetable` or `/timetable/dashboard`

#### 2.1.1 Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIMETABLE MANAGEMENT > DASHBOARD                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [New Timetable] [Open Timetable] [Settings]    Current: Regular Term 1 2025     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ QUICK ACTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [Generate New] [Manual Edit] [View Teachers] [View Rooms] [Constraints]      â”‚   â”‚
â”‚ â”‚ [Lock/Unlock] [Substitute] [Print] [Export] [Import]                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ CURRENT TIMETABLE STATUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Mode: Regular Teaching                    Period Set: Normal 8 Periods        â”‚   â”‚
â”‚ â”‚ Generated: Dec 10, 2025 14:30            Status: ACTIVE                      â”‚   â”‚
â”‚ â”‚ Classes: 12/12 Complete                  Teachers: 45/48 Assigned            â”‚   â”‚
â”‚ â”‚ Constraints: 156 Active (23 Hard, 133 Soft)                                  â”‚   â”‚
â”‚ â”‚ Last Modified: Dec 12, 2025 09:15 by John Admin                              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ CLASS TIMETABLES â”€â”¬â”€ TEACHER TIMETABLES â”€â”¬â”€ ROOM UTILIZATION â”€â”               â”‚
â”‚ â”‚ 9A Science         â”‚ Mr. Smith (Physics)  â”‚ Lab 1: 85% Used    â”‚               â”‚
â”‚ â”‚ âœ“ Complete         â”‚ âœ“ Complete           â”‚ Lab 2: 92% Used    â”‚               â”‚
â”‚ â”‚ 9B Science         â”‚ Ms. Johnson (Chem)   â”‚ Room 101: 78% Used â”‚               â”‚
â”‚ â”‚ âš  Conflicts       â”‚ âš  2 Free Periods     â”‚ Room 102: 65% Used â”‚               â”‚
â”‚ â”‚ 10A Maths          â”‚ Mr. Davis (Maths)    â”‚ Gym: 45% Used      â”‚               â”‚
â”‚ â”‚ âœ“ Complete         â”‚ âœ“ Complete           â”‚                   â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ RECENT ACTIVITY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Dec 12 09:15 | John Admin | Updated 9B Science period 3 (Mathâ†’Science)       â”‚   â”‚
â”‚ â”‚ Dec 11 16:45 | Auto Scheduler | Generated initial timetable                   â”‚   â”‚
â”‚ â”‚ Dec 11 14:20 | Ms. Johnson | Requested substitution for Dec 15                â”‚   â”‚
â”‚ â”‚ Dec 10 11:30 | System | Applied 23 constraint updates                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.2 Components & Interactions

**Quick Actions Bar:**
- **[New Timetable]** â€“ Opens timetable creation wizard
- **[Open Timetable]** â€“ Dropdown to select existing timetables
- **[Settings]** â€“ Opens timetable configuration modal
- **[Generate New]** â€“ Starts auto-scheduler
- **[Manual Edit]** â€“ Opens drag-drop editor
- **[View Teachers]** â€“ Shows teacher-wise timetable view
- **[View Rooms]** â€“ Shows room utilization view
- **[Constraints]** â€“ Opens constraint management
- **[Lock/Unlock]** â€“ Bulk lock/unlock operations
- **[Substitute]** â€“ Opens substitution workflow
- **[Print/Export/Import]** â€“ Standard operations

**Status Cards:**
- Real-time status indicators (âœ“ Complete, âš  Conflicts, âœ— Incomplete)
- Progress bars for completion percentages
- Color coding: Green=Complete, Yellow=Warnings, Red=Errors

---

### 2.2 Class Timetable View Screen
**Route:** `/timetable/class/{classId}` or `/timetable/class`

#### 2.2.1 Layout (Weekly Grid View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLASS TIMETABLE > Class 9A Science                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [â† Prev Class] [9A Science] [9B Science] [9C Science] [Next Class â†’]   [Week â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚ â”‚      â”‚ MON  â”‚ TUE  â”‚ WED  â”‚ THU  â”‚ FRI  â”‚ SAT  â”‚ SUN  â”‚                        â”‚
â”‚ â”‚Periodâ”‚ Dec10â”‚ Dec11â”‚ Dec12â”‚ Dec13â”‚ Dec14â”‚ Dec15â”‚ Dec16â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚1     â”‚Maths â”‚Scienceâ”‚Englishâ”‚Hindi â”‚Scienceâ”‚Maths â”‚     â”‚                        â”‚
â”‚ â”‚08:00 â”‚Mr.S  â”‚Ms.J   â”‚Mr.D   â”‚Ms.K   â”‚Ms.J   â”‚Mr.S  â”‚     â”‚                        â”‚
â”‚ â”‚08:45 â”‚Rm101 â”‚Lab1   â”‚Rm102  â”‚Rm103  â”‚Lab1   â”‚Rm101 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚2     â”‚Englishâ”‚Maths â”‚Scienceâ”‚Englishâ”‚Hindi â”‚Englishâ”‚     â”‚                        â”‚
â”‚ â”‚08:50 â”‚Mr.D   â”‚Mr.S   â”‚Ms.J   â”‚Mr.D   â”‚Ms.K   â”‚Mr.D  â”‚     â”‚                        â”‚
â”‚ â”‚09:35 â”‚Rm102  â”‚Rm101  â”‚Lab1   â”‚Rm102  â”‚Rm103  â”‚Rm102 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚BREAK â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚09:35 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚09:45 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚3     â”‚Hindi â”‚Englishâ”‚Maths â”‚Scienceâ”‚Maths â”‚Scienceâ”‚     â”‚                        â”‚
â”‚ â”‚09:45 â”‚Ms.K   â”‚Mr.D   â”‚Mr.S   â”‚Ms.J   â”‚Mr.S   â”‚Ms.J  â”‚     â”‚                        â”‚
â”‚ â”‚10:30 â”‚Rm103  â”‚Rm102  â”‚Rm101  â”‚Lab1   â”‚Rm101  â”‚Lab1  â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚4     â”‚Scienceâ”‚Hindi â”‚Englishâ”‚Maths â”‚Englishâ”‚Hindi â”‚     â”‚                        â”‚
â”‚ â”‚10:35 â”‚Ms.J   â”‚Ms.K   â”‚Mr.D   â”‚Mr.S   â”‚Mr.D   â”‚Ms.K  â”‚     â”‚                        â”‚
â”‚ â”‚11:20 â”‚Lab1   â”‚Rm103  â”‚Rm102  â”‚Rm101  â”‚Rm102  â”‚Rm103 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚LUNCH â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚11:20 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚12:00 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚5     â”‚Maths â”‚Scienceâ”‚Hindi â”‚Englishâ”‚Scienceâ”‚Maths â”‚     â”‚                        â”‚
â”‚ â”‚12:00 â”‚Mr.S   â”‚Ms.J   â”‚Ms.K   â”‚Mr.D   â”‚Ms.J   â”‚Mr.S  â”‚     â”‚                        â”‚
â”‚ â”‚12:45 â”‚Rm101  â”‚Lab1   â”‚Rm103  â”‚Rm102  â”‚Lab1   â”‚Rm101 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚6     â”‚Englishâ”‚Maths â”‚Scienceâ”‚Hindi â”‚Maths â”‚Englishâ”‚     â”‚                        â”‚
â”‚ â”‚12:50 â”‚Mr.D   â”‚Mr.S   â”‚Ms.J   â”‚Ms.K   â”‚Mr.S   â”‚Mr.D  â”‚     â”‚                        â”‚
â”‚ â”‚13:35 â”‚Rm102  â”‚Rm101  â”‚Lab1   â”‚Rm103  â”‚Rm101  â”‚Rm102 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚BREAK â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚13:35 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚     â”‚                        â”‚
â”‚ â”‚13:45 â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚7     â”‚Hindi â”‚Englishâ”‚Maths â”‚Scienceâ”‚Englishâ”‚Hindi â”‚     â”‚                        â”‚
â”‚ â”‚13:45 â”‚Ms.K   â”‚Mr.D   â”‚Mr.S   â”‚Ms.J   â”‚Mr.D   â”‚Ms.K  â”‚     â”‚                        â”‚
â”‚ â”‚14:30 â”‚Rm103  â”‚Rm102  â”‚Rm101  â”‚Lab1   â”‚Rm102  â”‚Rm103 â”‚     â”‚                        â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚ â”‚8     â”‚Scienceâ”‚Hindi â”‚Englishâ”‚Maths â”‚Hindi â”‚Scienceâ”‚     â”‚                        â”‚
â”‚ â”‚14:35 â”‚Ms.J   â”‚Ms.K   â”‚Mr.D   â”‚Mr.S   â”‚Ms.K   â”‚Ms.J  â”‚     â”‚                        â”‚
â”‚ â”‚15:20 â”‚Lab1   â”‚Rm103  â”‚Rm102  â”‚Rm101  â”‚Rm103  â”‚Lab1  â”‚     â”‚                        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Print] [Export] [Edit Mode] [View Conflicts] [Teacher View] [Room View]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.2 Components & Interactions

**Navigation:**
- **Class Selector** â€“ Dropdown with all classes, sections
- **Week Selector** â€“ Current week, previous, next week options
- **View Toggles** â€“ Subject/Teacher/Room overlay options

**Grid Features:**
- **Color Coding** â€“ Different colors for subjects, teachers, rooms
- **Conflict Indicators** â€“ Red highlighting for constraint violations
- **Lock Indicators** â€“ Padlock icons for locked cells
- **Hover Details** â€“ Show full teacher name, room details on hover
- **Click Actions** â€“ Click cell to view/edit period details

**Action Buttons:**
- **[Edit Mode]** â€“ Switch to drag-drop editing
- **[View Conflicts]** â€“ Show only conflicting periods
- **[Teacher View]** â€“ Switch to teacher-centric view
- **[Room View]** â€“ Switch to room utilization view

---

### 2.3 Auto-Scheduler Console Screen
**Route:** `/timetable/generate` or `/timetable/auto-scheduler`

#### 2.3.1 Layout (Multi-Panel Interface)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AUTO-SCHEDULER CONSOLE                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ SCHEDULER CONTROLS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ GENERATION STATUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Mode: [Regular â–¼]                         â”‚ Status: READY                        â”‚ â”‚
â”‚ â”‚ Period Set: [Normal 8P â–¼]                 â”‚ Progress: 0%                         â”‚ â”‚
â”‚ â”‚ Date Range: [Dec 9 - Dec 13 â–¼]            â”‚ Estimated Time: --                   â”‚ â”‚
â”‚ â”‚ [Load Constraints] [Validate] [Generate] â”‚ Elapsed: 00:00:00                    â”‚ â”‚
â”‚ â”‚ [Stop] [Pause] [Resume]                   â”‚                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ CONSTRAINT SUMMARY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Total Constraints: 156 (23 Hard, 133 Soft)                                    â”‚ â”‚
â”‚ â”‚ â”œâ”€ Teacher Constraints: 89                                                     â”‚ â”‚
â”‚ â”‚ â”‚  â”œâ”€ Max Periods/Day: 45 teachers                                             â”‚ â”‚
â”‚ â”‚ â”‚  â””â”€ Unavailable Periods: 12 teachers                                         â”‚ â”‚
â”‚ â”‚ â”œâ”€ Class Constraints: 34                                                        â”‚ â”‚
â”‚ â”‚ â”‚  â”œâ”€ Weekly Periods: 12 class-groups                                          â”‚ â”‚
â”‚ â”‚ â”‚  â””â”€ Consecutive Required: 8 subjects                                         â”‚ â”‚
â”‚ â”‚ â”œâ”€ Room Constraints: 23                                                         â”‚ â”‚
â”‚ â”‚ â”‚  â”œâ”€ Room Unavailable: 5 rooms                                                â”‚ â”‚
â”‚ â”‚ â”‚  â””â”€ Max Usage/Day: 8 rooms                                                   â”‚ â”‚
â”‚ â”‚ â””â”€ Global Constraints: 10                                                       â”‚ â”‚
â”‚ â”‚    â”œâ”€ Fixed Periods: 3 (Assembly, Prayer)                                       â”‚ â”‚
â”‚ â”‚    â””â”€ No Classes on Date: 2 holidays                                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ LIVE GENERATION LOG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 14:32:15 | Loading constraints...                                              â”‚ â”‚
â”‚ â”‚ 14:32:16 | Validating class requirements...                                    â”‚ â”‚
â”‚ â”‚ 14:32:17 | Starting generation for 12 classes, 48 teachers, 25 rooms          â”‚ â”‚
â”‚ â”‚ 14:32:18 | Processing Class 9A Science...                                      â”‚ â”‚
â”‚ â”‚ 14:32:19 | âœ“ Assigned Maths P1 (Mr. Smith, Room 101)                           â”‚ â”‚
â”‚ â”‚ 14:32:20 | âœ“ Assigned Science P2 (Ms. Johnson, Lab 1)                          â”‚ â”‚
â”‚ â”‚ 14:32:21 | âš  Soft constraint violation: Mr. Smith prefers morning classes      â”‚ â”‚
â”‚ â”‚ 14:32:22 | âœ“ Assigned English P3 (Mr. Davis, Room 102)                         â”‚ â”‚
â”‚ â”‚ 14:32:23 | âœ— Hard constraint violation: Lab 1 double-booked P4                 â”‚ â”‚
â”‚ â”‚ 14:32:24 | â†º Backtracking... trying alternative assignment                     â”‚ â”‚
â”‚ â”‚ 14:32:25 | âœ“ Alternative found: Science P4 (Ms. Johnson, Room 103)             â”‚ â”‚
â”‚ â”‚ ...                                                                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ RESULTS SUMMARY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Generation completed successfully!                                             â”‚ â”‚
â”‚ â”‚ â”œâ”€ Classes: 12/12 (100%) Complete                                              â”‚ â”‚
â”‚ â”‚ â”œâ”€ Teachers: 45/48 (94%) Assigned                                              â”‚ â”‚
â”‚ â”‚ â”œâ”€ Rooms: 23/25 (92%) Utilized                                                 â”‚ â”‚
â”‚ â”‚ â”œâ”€ Hard Constraints: 0 violations                                              â”‚ â”‚
â”‚ â”‚ â”œâ”€ Soft Constraints: 12 violations (avg weight: 35)                            â”‚ â”‚
â”‚ â”‚ â”œâ”€ Total Periods: 960 assigned                                                  â”‚ â”‚
â”‚ â”‚ â””â”€ Generation Time: 2m 34s                                                     â”‚ â”‚
â”‚ â”‚                                                                                â”‚ â”‚
â”‚ â”‚ [View Timetable] [Apply Changes] [Save as Draft] [Discard]                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3.2 Components & Interactions

**Control Panel:**
- **Mode/Period Set Selection** â€“ Dropdowns with validation
- **Date Range Picker** â€“ Calendar widget for academic week selection
- **Action Buttons** â€“ Generate, Stop, Pause, Resume with state management

**Status Indicators:**
- **Progress Bar** â€“ Real-time progress with percentage
- **Time Estimates** â€“ Based on historical runs
- **Status Colors** â€“ Green=Success, Yellow=Warnings, Red=Errors

**Log Panel:**
- **Real-time Updates** â€“ WebSocket or polling for live updates
- **Color Coding** â€“ âœ“ Success, âš  Warning, âœ— Error, â†º Backtracking
- **Filter Options** â€“ Show only errors, only warnings, all messages

---

### 2.4 Manual Drag-Drop Editor Screen
**Route:** `/timetable/edit` or `/timetable/manual-editor`

#### 2.4.1 Layout (Interactive Grid with Side Panels)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MANUAL TIMETABLE EDITOR                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ TOOLBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ PERIOD DETAILS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [Save] [Undo] [Redo] [Validate] [Lock]     â”‚ Current Selection:                  â”‚ â”‚
â”‚ â”‚ [Unlock] [Clear] [Auto-Fill] [Conflicts]   â”‚ Period: Monday P3 (09:45-10:30)    â”‚ â”‚
â”‚ â”‚                                            â”‚ Subject: Maths                      â”‚ â”‚
â”‚ â”‚ Selected: Class 9A Science                â”‚ Teacher: Mr. Smith                  â”‚ â”‚
â”‚ â”‚ Mode: Drag & Drop                         â”‚ Room: Room 101                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ SUBJECT PALETTE â”€â”¬â”€ TIMETABLE GRID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“š Maths          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚ â”‚ ğŸ‘©â€ğŸ”¬ Science       â”‚ â”‚      â”‚ MON  â”‚ TUE  â”‚ WED  â”‚ THU  â”‚ FRI  â”‚ SAT  â”‚            â”‚ â”‚
â”‚ â”‚ ğŸ“– English        â”‚ â”‚Periodâ”‚ Dec10â”‚ Dec11â”‚ Dec12â”‚ Dec13â”‚ Dec14â”‚ Dec15â”‚            â”‚ â”‚
â”‚ â”‚ ğŸ—£ï¸ Hindi          â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤            â”‚ â”‚
â”‚ â”‚ ğŸ¨ Art            â”‚ â”‚1     â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â”‚ ğŸµ Music          â”‚ â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â”‚ ğŸƒ PE             â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤            â”‚ â”‚
â”‚ â”‚ ğŸ“± Computer       â”‚ â”‚2     â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â”‚                   â”‚ â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â”‚ DRAG SUBJECTS    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤            â”‚ â”‚
â”‚ â”‚ FROM HERE        â”‚ â”‚3     â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â”‚                  â”‚ â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ VALIDATION PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ“ All constraints satisfied                                                    â”‚ â”‚
â”‚ â”‚ âš  Soft constraint: Mr. Smith has 6 periods today (prefers 5)                  â”‚ â”‚
â”‚ â”‚ âš  Soft constraint: Room 101 used 7 times this week (max 6)                    â”‚ â”‚
â”‚ â”‚                                                                                â”‚ â”‚
â”‚ â”‚ [Accept Warnings] [Fix All] [Ignore]                                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.2 Components & Interactions

**Drag & Drop:**
- **Subject Palette** â€“ Drag subjects from sidebar to grid cells
- **Visual Feedback** â€“ Highlight valid drop zones, red for invalid
- **Multi-select** â€“ Ctrl+click for multiple cell selection
- **Bulk Operations** â€“ Drag to multiple cells at once

**Validation:**
- **Real-time Checking** â€“ Validate as you drag
- **Warning Levels** â€“ Hard violations prevent drops, soft show warnings
- **Auto-fix Suggestions** â€“ "Click here to swap with adjacent period"

---

### 2.5 Substitution Workflow Screen
**Route:** `/timetable/substitute` or `/timetable/substitution`

#### 2.5.1 Layout (Request-Response Interface)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TEACHER SUBSTITUTION WORKFLOW                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ PENDING REQUESTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ AVAILABLE SUBSTITUTES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”´ URGENT: Ms. Johnson (Science)        â”‚ [Filter by Subject â–¼] [Availability â–¼] â”‚ â”‚
â”‚ â”‚    Dec 15, 2025 - Period 3              â”‚                                       â”‚ â”‚
â”‚ â”‚    Reason: Medical Leave                â”‚ ğŸŸ¢ Mr. Anderson (Science)              â”‚ â”‚
â”‚ â”‚    [Assign] [Reject]                    â”‚    Available: All day                  â”‚ â”‚
â”‚ â”‚                                        â”‚    Rating: 4.8/5 (12 subs)             â”‚ â”‚
â”‚ â”‚ ğŸŸ¡ Ms. Davis (Maths)                    â”‚                                       â”‚ â”‚
â”‚ â”‚    Dec 16, 2025 - Periods 1-2           â”‚ ğŸŸ¢ Ms. Patel (Science)                 â”‚ â”‚
â”‚ â”‚    Reason: Training                     â”‚    Available: Periods 3-6              â”‚ â”‚
â”‚ â”‚    [Assign] [Reject]                    â”‚    Rating: 4.5/5 (8 subs)              â”‚ â”‚
â”‚ â”‚                                        â”‚                                       â”‚ â”‚
â”‚ â”‚ ğŸŸ¢ Mr. Smith (English)                  â”‚ ğŸŸ¡ Mr. Kumar (Science)                 â”‚ â”‚
â”‚ â”‚    Dec 17, 2025 - Period 5              â”‚    Available: After 12 PM             â”‚ â”‚
â”‚ â”‚    Reason: Personal                     â”‚    Rating: 4.2/5 (15 subs)            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ SUBSTITUTION HISTORY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Date       â”‚ Absent Teacher â”‚ Substitute â”‚ Period â”‚ Subject â”‚ Status â”‚ Rating â”‚ â”‚
â”‚ â”‚ Dec 12     â”‚ Ms. Johnson    â”‚ Mr. Andersonâ”‚ P3     â”‚ Science â”‚ âœ“ Done â”‚ 5/5    â”‚ â”‚
â”‚ â”‚ Dec 10     â”‚ Mr. Smith      â”‚ Ms. Patel   â”‚ P1-2   â”‚ English â”‚ âœ“ Done â”‚ 4/5    â”‚ â”‚
â”‚ â”‚ Dec 8      â”‚ Ms. Davis      â”‚ Mr. Kumar   â”‚ P4     â”‚ Maths   â”‚ âœ“ Done â”‚ 5/5    â”‚ â”‚
â”‚ â”‚ Dec 5      â”‚ Mr. Wilson     â”‚ Ms. Lee     â”‚ P5     â”‚ History â”‚ âœ— No-showâ”‚ N/A   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ QUICK ASSIGN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Select Date: [Dec 15 â–¼]  Period: [3 â–¼]  Teacher: [Ms. Johnson â–¼]               â”‚ â”‚
â”‚ â”‚ Reason: [Medical Leave â–¼]  Comments: [________________________________]         â”‚ â”‚
â”‚ â”‚                                                                                â”‚ â”‚
â”‚ â”‚ [Find Substitutes] [Emergency Mode] [Bulk Assign]                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.5.2 Components & Interactions

**Request Management:**
- **Priority Indicators** â€“ ğŸ”´ Urgent, ğŸŸ¡ Normal, ğŸŸ¢ Low priority
- **Bulk Actions** â€“ Select multiple requests for batch processing
- **Auto-assignment** â€“ System suggests best matches based on subject, availability

**Substitute Matching:**
- **Subject Qualification** â€“ Only shows qualified teachers
- **Availability Calendar** â€“ Real-time availability checking
- **Rating System** â€“ Based on past substitution performance

---

## 3. DATA MODEL & API CONTRACTS

### 3.1 Generate Timetable Request
```json
POST /api/v1/timetable/generate
{
  "mode_id": 1,
  "period_set_id": 1,
  "academic_session_id": 2025,
  "start_date": "2025-12-09",
  "end_date": "2025-12-13",
  "constraints_active": true,
  "allow_soft_violations": true
}
```

### 3.2 Generate Timetable Response
```json
{
  "success": true,
  "data": {
    "generation_run_id": 123,
    "status": "COMPLETED",
    "stats": {
      "classes_completed": 12,
      "teachers_assigned": 45,
      "rooms_utilized": 23,
      "hard_violations": 0,
      "soft_violations": 12,
      "total_periods": 960,
      "generation_time_seconds": 154
    },
    "timetable_url": "/api/v1/timetable/123/cells"
  },
  "message": "Timetable generated successfully"
}
```

### 3.3 Get Timetable Cells Request
```
GET /api/v1/timetable/cells?generation_run_id=123&class_id=9&start_date=2025-12-09&end_date=2025-12-13
```

### 3.4 Get Timetable Cells Response
```json
{
  "success": true,
  "data": [
    {
      "id": 1001,
      "date": "2025-12-09",
      "period_ord": 1,
      "class_group_id": 45,
      "class_subgroup_id": null,
      "subject": {
        "id": 5,
        "name": "Mathematics",
        "code": "MATH"
      },
      "teachers": [
        {
          "id": 12,
          "name": "Mr. Smith",
          "assignment_role": "PRIMARY_INSTRUCTOR"
        }
      ],
      "room": {
        "id": 8,
        "name": "Room 101",
        "type": "CLASSROOM"
      },
      "locked": false,
      "source": "AUTO"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 960,
    "pages": 20
  }
}
```

### 3.5 Update Timetable Cell Request
```json
PUT /api/v1/timetable/cells/1001
{
  "teacher_id": 15,
  "room_id": 12,
  "locked": true,
  "reason": "Manual adjustment for teacher availability"
}
```

### 3.6 Create Substitution Request
```json
POST /api/v1/timetable/substitutions
{
  "cell_id": 1001,
  "absent_teacher_id": 12,
  "substitute_teacher_id": 15,
  "reason": "Medical Leave",
  "comments": "Doctor appointment"
}
```

---

## 4. USER WORKFLOWS

### 4.1 Auto-Generate Timetable Workflow
```
1. User selects timetable mode (Regular/Exam/Special)
2. User chooses period set (Normal 8P/Exam 3P/etc.)
3. User sets date range for the timetable
4. System loads all active constraints
5. User clicks [Generate]
6. System validates prerequisites (classes, teachers, rooms exist)
7. Generation starts with progress indicator
8. Real-time log shows assignment progress
9. System handles constraint violations automatically
10. On completion, user reviews results summary
11. User can apply changes or regenerate with different parameters
12. Success: Timetable becomes active for the selected period
```

### 4.2 Manual Editing Workflow
```
1. User opens timetable in edit mode
2. User selects class/section to edit
3. User drags subjects from palette to empty cells
4. System validates each assignment in real-time
5. Hard violations prevent invalid drops
6. Soft violations show warnings but allow continuation
7. User can undo/redo changes
8. User validates entire timetable
9. User saves changes with confirmation
10. System updates timetable cells and logs changes
```

### 4.3 Substitution Request Workflow
```
1. Teacher reports absence via system
2. System identifies affected timetable cells
3. System finds qualified substitute teachers
4. System ranks substitutes by availability and rating
5. Administrator reviews pending requests
6. Administrator assigns substitute with one click
7. System updates timetable cell with substitute
8. System logs substitution with audit trail
9. All stakeholders notified via email/SMS
10. Substitute receives period details and materials
```

---

## 5. VISUAL DESIGN GUIDELINES

### 5.1 Colors & Typography
| Element | Color | Font | Size | Weight |
|---------|-------|------|------|--------|
| Page Title | #1F2937 (Dark Gray) | Inter/Roboto | 28px | Bold (700) |
| Section Title | #374151 | Inter/Roboto | 18px | Bold (600) |
| Field Label | #4B5563 | Inter/Roboto | 14px | Medium (500) |
| Input Text | #000000 | Inter/Roboto | 14px | Regular (400) |
| Primary Button | #3B82F6 (Blue) | - | 14px | Medium (500) |
| Success Status | #10B981 (Green) | - | 14px | Medium (500) |
| Warning Status | #F59E0B (Amber) | - | 14px | Medium (500) |
| Error Status | #EF4444 (Red) | - | 14px | Medium (500) |

### 5.2 Timetable Grid Colors
| Element | Color | Usage |
|---------|-------|-------|
| Subject Cells | Dynamic (per subject) | Teaching periods |
| Break Cells | #F3F4F6 (Light Gray) | Non-teaching periods |
| Locked Cells | Overlay with ğŸ”’ icon | Protected from changes |
| Conflict Cells | Red border (#EF4444) | Constraint violations |
| Selected Cells | Blue border (#3B82F6) | Current selection |
| Empty Cells | White background | Available for assignment |

### 5.3 Icons
- **Generate:** âš™ï¸ Settings Gear
- **Edit:** âœï¸ Pencil
- **Lock:** ğŸ”’ Padlock
- **Unlock:** ğŸ”“ Open Padlock
- **Substitute:** ğŸ‘¥ People Group
- **Conflict:** âš ï¸ Warning Triangle
- **Success:** âœ… Checkmark
- **Error:** âŒ Cross Mark

---

## 6. ACCESSIBILITY & USABILITY

### 6.1 Keyboard Navigation
- **Tab/Shift+Tab:** Navigate between cells and controls
- **Enter/Space:** Activate buttons, select cells
- **Arrow Keys:** Navigate timetable grid
- **Ctrl+Z/Ctrl+Y:** Undo/Redo in edit mode
- **Ctrl+S:** Save changes

### 6.2 Screen Reader Support
```html
<!-- Timetable Grid -->
<table role="grid" aria-label="Class 9A Timetable">
  <thead>
    <tr>
      <th scope="col">Period</th>
      <th scope="col">Monday December 9</th>
      <!-- ... -->
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Period 1 (08:00-08:45)</th>
      <td aria-label="Mathematics with Mr. Smith in Room 101">Maths</td>
      <!-- ... -->
    </tr>
  </tbody>
</table>
```

### 6.3 Drag & Drop Accessibility
- **Keyboard Alternative:** Arrow key navigation with Enter to select
- **Screen Reader:** Announces "Dragging Mathematics to Monday Period 1"
- **Focus Management:** Maintains focus on dragged element

---

## 7. EDGE CASES & ERROR SCENARIOS

| Scenario | Behavior |
|----------|----------|
| No Teachers Available | Show error: "No qualified teachers for subject. Add teachers or relax constraints." |
| Room Double-booked | Hard violation: Prevent assignment, suggest alternatives |
| Constraint Conflicts | Show conflict resolver modal with options |
| Generation Timeout | Auto-pause with option to continue or restart |
| Network Interruption | Auto-save draft, resume on reconnection |
| Invalid Date Range | Error: "Date range must be within academic session" |
| Circular Constraints | Warning: "Circular dependency detected in constraints" |

---

## 8. PERFORMANCE CONSIDERATIONS

### 8.1 Data Optimization
- **Timetable Cells:** Paginated loading (50 cells per request)
- **Constraint Evaluation:** Cached constraint rules (TTL: 1 hour)
- **Search/Filter:** Indexed on date, class, teacher, room
- **Bulk Operations:** Batch API calls for multiple updates

### 8.2 Caching Strategy
- **Active Timetable:** Redis cache for current week
- **Teacher Availability:** Cache with invalidation on changes
- **Room Utilization:** Real-time calculation with caching
- **Constraint Rules:** Application cache with version checking

### 8.3 Real-time Updates
- **WebSocket Connection:** For live generation progress
- **Polling Fallback:** Every 5 seconds for older browsers
- **Optimistic Updates:** Immediate UI updates with server sync

---

## 9. TESTING CHECKLIST

### 9.1 Functional Testing
- [ ] Generate timetable with all constraint types
- [ ] Manual editing with drag-drop operations
- [ ] Substitution workflow end-to-end
- [ ] Constraint validation (hard vs soft)
- [ ] Bulk operations (lock/unlock multiple cells)
- [ ] Export/import timetable data
- [ ] Print different view formats
- [ ] Undo/redo functionality
- [ ] Real-time conflict detection

### 9.2 UI/UX Testing
- [ ] Responsive design on mobile/tablet/desktop
- [ ] Keyboard navigation throughout application
- [ ] Screen reader compatibility
- [ ] Drag-drop functionality across devices
- [ ] Loading states and progress indicators
- [ ] Error message clarity and helpfulness
- [ ] Color contrast and visual accessibility

### 9.3 Integration Testing
- [ ] API contract compliance
- [ ] Database constraint enforcement
- [ ] External system integration (notifications)
- [ ] Performance under load (1000+ cells)
- [ ] Concurrent user editing
- [ ] Data consistency across views

---

## 10. FUTURE ENHANCEMENTS

1. **AI-Powered Optimization:** Machine learning for better initial assignments
2. **Mobile App:** Native iOS/Android apps for teachers
3. **Advanced Analytics:** Usage patterns, bottleneck identification
4. **Template System:** Save/load timetable templates
5. **Integration APIs:** Connect with Google Calendar, Outlook
6. **Voice Commands:** Voice-activated timetable editing
7. **Augmented Reality:** AR visualization of room layouts
8. **Predictive Substitution:** AI suggests substitutes before absences
9. **Dynamic Constraints:** Time-based constraint activation
10. **Multi-tenant Support:** Shared timetables across branches

---

**Document Created By:** ERP Architect GPT  
**Last Reviewed:** December 14, 2025  
**Next Review Date:** March 14, 2026  
**Version Control:** Initial creation