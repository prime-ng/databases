# Complaint Module - Dashboards & Report Designs

## 1. Role-Specific Dashboards

### A. Management / Principal Dashboard (Strategic View)
**Focus:** Trends, Risks, SLA Compliance.
**Widgets:**
1. **Critical Alert Ticker:** Active 'High/Critical' complaints requiring immediate attention.
2. **SLA Breachometer:** Gauge chart showing % of tickets resolved within SLA (Target: 95%).
3. **Category Heatmap:** Visual grid showing which categories have most grievances (e.g., "Transport" in Red).
4. **Trend Graph:** Monthly volume comparison (This Year vs Last Year).
5. **Department Performance:** Avg resolution time per department.

### B. School Admin / Transport Manager Dashboard (Operational View)
**Focus:** Actionable Tasks, Daily Workload.
**Widgets:**
1. **Inbox:** List of "Unassigned" or "Open" tickets.
2. **My Tasks:** Tickets assigned specifically to me.
3. **Overdue List:** Tickets that have breached SLA.
4. **Transport Live Status:** (For Tpt Mgr) Map showing complaints pinned to current bus locations.

### C. Teacher Dashboard
**Focus:** Class-Info, Student-Wellbeing.
**Widgets:**
1. **My Class Complaints:** Grievances linked to students in their class.
2. **Assigned to Me:** Specific academic/behaviour complaints they need to resolve.

### D. Parent/Student Dashboard (Mobile)
**Focus:** Tracking, Transparency.
**Widgets:**
1. **Active Status:** "Your complaint #123 is currently being investigated."
2. **History:** List of closed complaints.

---

## 2. Report Designs (Export Format)

### Report 1: Monthly Grievance Summary (PDF)
**Header:** School Logo, Month/Year, Generated By.
**Sections:**
1. **Executive Summary:** Total received, resolved, escalated.
2. **Category Breakdown:** Pie chart (e.g., 40% Transport, 30% Academic).
3. **SLA Analysis:** List of all tickets that breached SLA and reasons.
4. **Top Repeat Offenders:** Staff/Drivers with >3 complaints.

### Report 2: Student Gap Analysis (Pattern Recognition)
*(Note: As per user request for "Student Gap Analysis" in context of complaints)*
**Purpose:** Identify if a student's repeated behavioral complaints ("Acting out") correlate with academic struggles.
**Columns:**
- Student Name / Grade
- Total Behaviour Complaints
- Academic Performance (Avg Grade)
- Attendance %
- **AI Insight:** "High Correlation detected between Math Scores dropping and Disruptive Behaviour."

### Report 3: Transport Safety Audit (Excel)
**Purpose:** Compliance documentation.
**Columns:**
- Vehicle No / Route
- Driver Name
- Total Safety Complaints
- Alcohol Tests Conducted (Count)
- Alcohol Test Failures
- Action Taken

---

## 3. Analytics Hooks
All dashboards query `cmp_complaints`, `cmp_sla_configs`, and `cmp_ai_insights`.
- **Query Example (SLA Breaches):**
  ```sql
  SELECT COUNT(*) FROM cmp_complaints 
  WHERE status != 'Resolved' 
  AND NOW() > resolution_due_at;
  ```
